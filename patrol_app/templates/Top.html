{% extends "base.html" %}
{% load static %}

{% block title %}小学校パトロール{% endblock %}

{% block content %}
<h1 class="text-center my-4">長尾小学校パトロール</h1>

<div id="slideshow-container" class="mx-auto">
  <div id="slideshow">
    {% for image in images %}
        <div class="slide-container">
            <img src="{{ image.image.url }}" alt="Image" class="slide">
            <a href="{% url 'topimage_delete' image.pk %}" class="btn btn-danger">削除</a>
        </div>
    {% endfor %}
  </div>
</div>

<script>
  let currentIndex = 0;
  const images = document.querySelectorAll('.slide');
  images[currentIndex].style.opacity = 1;

  setInterval(() => {
    images[currentIndex].style.opacity = 0;
    currentIndex = (currentIndex + 1) % images.length;
    images[currentIndex].style.opacity = 1;
  }, 4000); // 4秒ごとに画像を切り替え
</script>
{% endblock %}
